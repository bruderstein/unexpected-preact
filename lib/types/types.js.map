{"version":3,"sources":["../../src/types/types.js"],"names":["PreactVNode","Object","getPrototypeOf","installInto","expect","preactRenderedAdapter","includeKeyProp","convertToString","concatTextContent","htmlLikePreactRendered","rawAdapter","htmlLikeRaw","preactAdapter","htmlLikePreactElement","addType","name","base","identify","value","_component","__preact_attr_","hasOwnProperty","setState","inspect","depth","output","wrapNode","type","COMPONENT_TYPE","NODE_TYPE","isRawElement"],"mappings":"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","file":"types.js","sourcesContent":["\nimport { h } from 'preact';\nimport UnexpectedHtmlLike from 'unexpected-htmllike';\nimport RawAdapter from 'unexpected-htmllike-raw-adapter';\nimport PreactElementAdapter from 'unexpected-htmllike-preact-adapter';\nimport PreactRenderedAdapter from 'unexpected-htmllike-preactrendered-adapter';\n\nconst PreactVNode = Object.getPrototypeOf(h('div'));\n\nfunction installInto(expect) {\n\n    const preactRenderedAdapter = new PreactRenderedAdapter({ includeKeyProp: true, convertToString: true, concatTextContent: true });\n    const htmlLikePreactRendered = UnexpectedHtmlLike(preactRenderedAdapter);\n    const rawAdapter = new RawAdapter({ convertToString: true, concatTextContent: true });\n    const htmlLikeRaw = UnexpectedHtmlLike(rawAdapter);\n    const preactAdapter = new PreactElementAdapter({ includeKeyProp: true });\n    const htmlLikePreactElement = UnexpectedHtmlLike(preactAdapter);\n\n    expect.addType({\n\n        name: 'RenderedPreactElement',\n\n        base: 'object',\n        identify(value) {\n            return typeof value === 'object' &&\n                value !== null &&\n                (typeof value._component === 'object' ||\n                 typeof value.__preact_attr_ === 'object' ||\n                 (value.base &&                         // Following for component instance returned from preact-compat render\n                  value.hasOwnProperty('props') &&\n                  value.hasOwnProperty('context') &&\n                  typeof value.setState === 'function'));\n        },\n\n        inspect(value, depth, output, inspect) {\n             return htmlLikePreactRendered.inspect(PreactRenderedAdapter.wrapNode(value), depth, output, inspect);\n        }\n    });\n\n    expect.addType({\n      name: 'RenderedPreactElementWrapper',\n\n      identify(value) {\n        return typeof value === 'object' &&\n          value !== null &&\n          (value.type === PreactRenderedAdapter.COMPONENT_TYPE ||\n           value.type === PreactRenderedAdapter.NODE_TYPE\n          );\n      },\n\n      inspect(value, depth, output, inspect) {\n        return htmlLikePreactRendered.inspect(value, depth, output, inspect);\n      }\n\n    });\n\n\n    expect.addType({\n        name: 'PreactElement',\n\n        identify: function (value) {\n            return (typeof value === 'object' &&\n                value !== null &&\n                Object.getPrototypeOf(value) === PreactVNode);\n        },\n\n        inspect: function (value, depth, output, inspect) {\n            return htmlLikePreactElement.inspect(value, depth, output, inspect);\n        }\n    });\n\n    expect.addType({\n      name: 'ReactRawObjectElement',\n      base: 'object',\n      identify: function (value) {\n        return rawAdapter.isRawElement(value);\n      },\n\n      inspect: function (value, depth, output, inspect) {\n        return htmlLikeRaw.inspect(value, depth, output, inspect);\n      }\n    });\n}\n\nexport default { installInto };\n"]}