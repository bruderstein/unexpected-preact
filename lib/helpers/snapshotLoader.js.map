{"version":3,"sources":["../../src/helpers/snapshotLoader.js"],"names":["defaultLoader","snapshotPath","statSync","isFile","require","cache","loader","loadSnapshot","content","e","injectLoader","newLoader"],"mappings":"AAAA;;;;;;;AAEA;;;;;;AAEA,SAASA,aAAT,CAAuBC,YAAvB,EAAqC;AACnC,MAAI,aAAGC,QAAH,CAAYD,YAAZ,EAA0BE,MAA1B,EAAJ,EAAwC;AACtC,WAAOC,QAAQC,KAAR,CAAcJ,YAAd,CAAP;AACA,WAAOG,QAAQH,YAAR,CAAP;AACD;AACD,SAAO,IAAP;AACD;;AAED,IAAIK,SAASN,aAAb;;AAEA,SAASO,YAAT,CAAsBN,YAAtB,EAAoC;AAClC,MAAIO,gBAAJ;AACA,MAAI;AACF,QAAI,aAAGN,QAAH,CAAYD,YAAZ,EAA0BE,MAA1B,EAAJ,EAAwC;AACtCK,gBAAUF,OAAOL,YAAP,CAAV;AACD;AACF,GAJD,CAIE,OAAOQ,CAAP,EAAU;AACVD,cAAU,IAAV;AACD;AACD,SAAOA,OAAP;AACD;;AAED,SAASE,YAAT,CAAsBC,SAAtB,EAAiC;AAC/BL,WAASK,SAAT;AACD;;QAEQJ,Y,GAAAA,Y;QAAcG,Y,GAAAA,Y","file":"snapshotLoader.js","sourcesContent":["'use strict';\n\nimport fs from 'fs';\n\nfunction defaultLoader(snapshotPath) {\n  if (fs.statSync(snapshotPath).isFile()) {\n    delete require.cache[snapshotPath];\n    return require(snapshotPath);\n  }\n  return null;\n}\n\nlet loader = defaultLoader;\n\nfunction loadSnapshot(snapshotPath) {\n  let content;\n  try {\n    if (fs.statSync(snapshotPath).isFile()) {\n      content = loader(snapshotPath);\n    }\n  } catch (e) {\n    content = null;\n  }\n  return content;\n}\n\nfunction injectLoader(newLoader) {\n  loader = newLoader;\n}\n\nexport { loadSnapshot, injectLoader };\n"]}